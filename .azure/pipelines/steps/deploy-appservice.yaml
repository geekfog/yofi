#
# Deploy an already-built web app to an Azure App Service
#
# Required parameters
#   - azureServiceConnectionName: Service connection to use for deployment
#   - azureAppServiceName: Name of app service

steps:
- task: DownloadPipelineArtifact@2
  inputs:
    source: 'current'
    artifact: '$(Solution.MainProject)'
    path: '$(Pipeline.Workspace)'

- task: AzureWebApp@1
  displayName: 'Deploy web app'
  inputs:
    azureSubscription: '$(azureServiceConnectionName)'
    appName: '$(azureAppServiceName)'
    appType: webAppLinux
    package: '$(Pipeline.Workspace)/**/*.zip'
    deploymentMethod: 'zipDeploy'
